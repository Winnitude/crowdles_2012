
<%= form_for resource, :as => resource_name, :url => update_user_confirmation_path, :html => {:method => 'put',:class=> "form-horizontal"}, :id => 'activation-form' do |f| %>
    <%= render "shared/form_errors" , :object=>resource %>
    <fieldset>
      <legend>Account Activation<% if resource.email %> for <%= resource.email %><% end %></legend>
      <% if @requires_password %>
          <div class="control-group">
            <label class="control-label" for="input01">Choose a Password:</label>
            <div class="controls">
              <%= f.password_field :password,:class=>"input" %>
              <p class="help-block"></p>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="input01">Password Confirmation:</label>
            <div class="controls">
              <%= f.password_field :password_confirmation,:class=>"input" %>
              <p class="help-block"></p>
            </div>
          </div>
      <% end %>
      <div class="control-group">
        <label class="control-label" for="input01">Country:</label>
        <div class="controls">
          <%= f.select :country,options_for_select(@countries,resource.country),:class=>"input" %>
          <p class="help-block"></p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input01">Language:</label>
        <div class="controls">
          <%= f.select :language,options_for_select(@language,resource.language),:class=>"input" %>
          <p class="help-block"></p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input01">Gender</label>
        <div class="controls">
          <%= select_tag "user_profile[gender]",options_for_select(["Male", "female"]),:class=>"input" %>
          <p class="help-block"></p>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="input01">First Name</label>
        <div class="controls">
          <%= text_field_tag "user_profile[first_name]",(resource.user_profile.first_name rescue nil) ,:class => "input" %>
          <p class="help-block"></p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input01">Last Name</label>
        <div class="controls">
          <%= text_field_tag "user_profile[last_name]",(resource.user_profile.last_name rescue nil),:class=>"input" %>
          <p class="help-block"></p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="input01">Nick Name</label>
        <div class="controls">
          <%= text_field_tag "user_profile[nick_name]","",:class=>"input" %>
          <p class="help-block"></p>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="input01">Terms Of Use</label>
        <div class="controls">
          <%= text_area_tag "terms",user_terms,:class=>"input",:rows => 5,:disabled => true %>
          <p class="help-block"></p>
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <label class="checkbox inline" >
            <%=f.check_box :user_terms_accepted%>Accept terms
            <!--<input type="text" class="input-xlarge" id="input01">-->
          </label>
        </div>
      </div>

      <%= hidden_field_tag :confirmation_token,@confirmation_token %>
      <div class="form-actions">
        <%= f.submit "Activate",:class =>"btn btn-primary"  %>
        <a class="btn" href="/">Cancel</a>
      </div>
    </fieldset>
<% end %>

<%= content_for :head do  %>
    <script type="text/javascript">

        jQuery(function(){

            var terms= new LiveValidation('user_user_terms_accepted',{validMessage:" ",onlyOnSubmit:true});
            terms.add( Validate.Acceptance);

            var fname= new LiveValidation('user_profile_first_name',{validMessage:" ",onlyOnSubmit:true});
            var lname= new LiveValidation('user_profile_last_name',{validMessage:" ",onlyOnSubmit:true});

            fname.add( Validate.Format , { pattern: /^[^0-9`!@#\$%\^&*+_=]+$/, failureMessage: "Field not valid" });
            lname.add( Validate.Format , { pattern: /^[^0-9`!@#\$%\^&*+_=]+$/, failureMessage: "Field not valid" });
        });
    </script>
<% end %>

